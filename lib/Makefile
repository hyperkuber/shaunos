


GENERAL_OPTS := -O0 -Wall
CC_GENERAL_OPTS := $(GENERAL_OPTS) -Werror 

CFLAGS := -c -g -nostdinc $(CC_GENERAL_OPTS) -I../Include/

C_SRCS += \
	string.c \
	vsprintf.c	\
	unistd.c	\


	

OBJS += \
	string.o \
	vsprintf.o	\
	unistd.o	\



all:lib.o

./%.o: ./%.c
	@gcc -S $(CC_GENERAL_OPTS) -I../Include/ $<
	gcc $(CFLAGS) -o$@ $<

lib.o:$(OBJS)
	@ ld -r -o$@ $^



clean:
	rm -rf *.o hello *~ 
depend:
	gcc -MM -I../Include *.c | sed 's/\.c/.c/g' >> Makefile

############
#dependencies generated by
#gcc -MM -I../Include *.c | sed 's/\.c/.c/g' >> Makefile
############
console.o: console.c ../Include/kernel/console.h \
 ../Include/kernel/types.h
main.o: main.c ../Include/kernel/console.h ../Include/kernel/types.h
